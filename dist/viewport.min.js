"use strict";function n(n,e,r){null!=n&&(n.addEventListener?n.addEventListener(e,r,!1):n.attachEvent("on"+e,function(){return r.call(n,window.event)}))}function e(n,e,r){null!=n&&(n.removeEventListener?n.removeEventListener(e,r):n.detachEvent("on"+e,r))}function r(n,e){return null!=n?function(){return n.map(function(n){return e[n]()})}:function(){return null}}function t(n,e){var t={};return Object.keys(n).forEach(function(i){var o=[],u=n[i],c=u.type,l=r(u.args,e),s={type:c,subscribers:[],publisher:function(n){var e=s.subscribers.length,r=l();if(!0!==n&&null!==r){var t=r.some(function(n,e){return o[e]!==n});if(o=r,!t)return!1}for(var i=-1;++i<e;)s.subscribers[i].apply(null,r)}};t[i]=s}),t}function i(n,e){var r=function(n){var r=n.type,t=n.publisher;r.forEach(function(n){return e(n,t)})};return{add:function(e,r){var t,i,o;-1===e.subscribers.indexOf(r)&&(e.subscribers.push(r),1===e.subscribers.length&&(i=(t=e).type,o=t.publisher,i.forEach(function(e){return n(e,o)})))},remove:function(n,e){var t=n.subscribers.indexOf(e);t>-1&&(n.subscribers.splice(t,1),n.subscribers.length||r(n))},removeAll:function(n){n.subscribers=[],r(n)}}}var o={load:{type:["load"]},unload:{type:["beforeunload"]},resize:{type:["resize","scroll","orientationchange"],args:["width","height"]},scroll:{type:["scroll"],args:["scrollX","scrollY"]}},u={width:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},height:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},scrollX:function(){return window.scrollX||window.pageXOffset},scrollY:function(){return window.scrollY||window.pageYOffset}};function c(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,c=t(o,u),l=function(n){if(!c[n])throw new Error("The '"+n+"' is not a valid event name.");return c[n]},s=i(n.bind(null,r),e.bind(null,r)),f={on:function(n,e){var r=l(n);return"function"==typeof e&&s.add(r,e),f},off:function(n,e){if(void 0===n)Object.keys(c).forEach(function(n){s.removeAll(c[n])});else{var r=l(n);"function"==typeof e?s.remove(r,e):void 0===e&&s.removeAll(r)}return f},trigger:function(n){return l(n).publisher(!0),f}};return Object.keys(u).forEach(function(n){f[n]=u[n]}),f}module.exports=c;
