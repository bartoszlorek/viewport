"use strict";function t(t,e,n){null!=t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,function(){return n.call(t,window.event)}))}function e(t,e,n){null!=t&&(t.removeEventListener?t.removeEventListener(e,n):t.detachEvent("on"+e,n))}function n(t,e){if(null!=t)if("function"==typeof Event)t.dispatchEvent(new Event(e));else if(t.document){var n=t.document.createEvent("UIEvents");n.initUIEvent(e,!0,!1,t,0),t.dispatchEvent(n)}}function i(t,e){return null!=t?function(n){var i=t.map(function(t){return e[t]()});return i.unshift(n),i}:function(t){return[t]}}function r(t,e,n){var i=null==t?0:t.length;if(i!==(null==e?0:e.length))return!1;for(var r=void 0!==n?n-1:-1;++r<i;)if(t[r]!==e[r])return!1;return!0}function o(t,e,n){this.items=null!=t?t.slice():[],this.loaded=e||null,this.unloaded=n||null}function u(t){return function(e,n){var u=[],s=i(e.args,n),c={type:e.type,subscribers:new o(null,function(){return n=(e=c).type,i=e.publisher,void n.forEach(function(e){t.addEventListener(t.view,e,i)});var e,n,i},function(){return n=(e=c).type,i=e.publisher,void n.forEach(function(e){t.removeEventListener(t.view,e,i)});var e,n,i}),publisher:function(t){var e=s(t),n=void 0;if(e.length>1){var i=!r(u,e,1);if(u=e,!i)return!1}return c.subscribers.forEach(function(t){n=t.apply(null,e)}),void 0!==n&&(t.returnValue=n),n},clearCache:function(){return u=[],c}};return c}}function s(t,e){var n={};return Object.keys(e).forEach(function(i){n[i]=function(){return e[i](t,t.document)}}),n}o.prototype={get length(){return this.items.length},add:function(t){-1===this.items.indexOf(t)&&(this.items.push(t),this.loaded&&1===this.items.length&&this.loaded(this))},remove:function(t){var e=this.items.indexOf(t);e>-1&&(this.items.splice(e,1),this.unloaded&&!this.items.length&&this.unloaded(this))},empty:function(){this.items=[],this.unloaded&&this.unloaded(this)},forEach:function(t){for(var e=-1,n=this.items.length;++e<n;)if(!1===t(this.items[e],e,this.items))return}};var c={load:{type:["load"]},unload:{type:["beforeunload"]},resize:{type:["resize","scroll","orientationchange"],args:["width","height"]},scroll:{type:["scroll"],args:["scrollX","scrollY"]}},l={width:function(t,e){return t.innerWidth||e.documentElement.clientWidth||e.body.clientWidth},height:function(t,e){return t.innerHeight||e.documentElement.clientHeight||e.body.clientHeight},scrollX:function(t,e){return t.scrollX||t.pageXOffset},scrollY:function(t,e){return t.scrollY||t.pageYOffset}};function f(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,r=s(i,l),o={},f=u({addEventListener:t,removeEventListener:e,view:i});Object.keys(c).forEach(function(t){o[t]=f(c[t],r)});var a=function(t){if(!o[t])throw new Error("'"+t+"' is not a valid event name");return o[t]},h={on:function(t,e){var n=a(t);return"function"==typeof e&&n.subscribers.add(e),h},off:function(t,e){if(void 0===t)Object.keys(o).forEach(function(t){o[t].subscribers.empty()});else{var n=a(t);"function"==typeof e?n.subscribers.remove(e):void 0===e&&n.subscribers.empty()}return h},trigger:function(t){var e=a(t).clearCache();return n(i,e.type[0]),h}};return Object.keys(r).forEach(function(t){h[t]=r[t]}),h}module.exports=f;
