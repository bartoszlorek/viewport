"use strict";function n(n,e,r){null!=n&&(n.addEventListener?n.addEventListener(e,r,!1):n.attachEvent("on"+e,function(){return r.call(n,window.event)}))}function e(n,e,r){null!=n&&(n.removeEventListener?n.removeEventListener(e,r):n.detachEvent("on"+e,r))}function r(n,e,r){return null!=e?function(){return e.map(function(e){return r[e](n,n.document)})}:function(){return null}}function t(n,e,t){var i={};return Object.keys(e).forEach(function(o){var u=[],c=e[o],l=c.type,s=c.args,f=r(n,s,t),a={type:l,subscribers:[],publisher:function(n){var e=a.subscribers.length,r=f();if(!0!==n&&null!==r){var t=r.some(function(n,e){return u[e]!==n});if(u=r,!t)return!1}for(var i=-1;++i<e;)a.subscribers[i].apply(null,r)}};i[o]=a}),i}function i(n,e){var r=function(n){var r=n.type,t=n.publisher;r.forEach(function(n){return e(n,t)})};return{add:function(e,r){var t,i,o;-1===e.subscribers.indexOf(r)&&(e.subscribers.push(r),1===e.subscribers.length&&(i=(t=e).type,o=t.publisher,i.forEach(function(e){return n(e,o)})))},remove:function(n,e){var t=n.subscribers.indexOf(e);t>-1&&(n.subscribers.splice(t,1),n.subscribers.length||r(n))},removeAll:function(n){n.subscribers=[],r(n)}}}var o={load:{type:["load"]},unload:{type:["beforeunload"]},resize:{type:["resize","scroll","orientationchange"],args:["width","height"]},scroll:{type:["scroll"],args:["scrollX","scrollY"]}},u={width:function(n,e){return n.innerWidth||e.documentElement.clientWidth||e.body.clientWidth},height:function(n,e){return n.innerHeight||e.documentElement.clientHeight||e.body.clientHeight},scrollX:function(n,e){return n.scrollX||n.pageXOffset},scrollY:function(n,e){return n.scrollY||n.pageYOffset}};function c(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,c=t(r,o,u),l=function(n){if(!c[n])throw new Error("The '"+n+"' is not a valid event name.");return c[n]},s=i(n.bind(null,r),e.bind(null,r)),f={on:function(n,e){var r=l(n);return"function"==typeof e&&s.add(r,e),f},off:function(n,e){if(void 0===n)Object.keys(c).forEach(function(n){s.removeAll(c[n])});else{var r=l(n);"function"==typeof e?s.remove(r,e):void 0===e&&s.removeAll(r)}return f},trigger:function(n){return l(n).publisher(!0),f}};return Object.keys(u).forEach(function(n){f[n]=u[n]}),f}module.exports=c;
